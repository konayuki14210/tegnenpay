<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="icon"
      href="{{url_for('static', filename='icons/icon96.png')}}"
      type="image/png"
    />
    <link
      rel="icon"
      href="{{url_for('static', filename='icons/icon192.png')}}"
      type="image/png"
    />
    <link
      rel="icon"
      href="{{url_for('static', filename='icons/icon512.png')}}"
      type="image/png"
    />
    <link
      rel="apple-touch-icon"
      href="{{url_for('static', filename='icons/icon96.png')}}"
      type="image/png"
    />
    <link
      rel="apple-touch-icon"
      href="{{url_for('static', filename='icons/icon192.png')}}"
      type="image/png"
    />
    <link
      rel="apple-touch-icon"
      href="{{url_for('static', filename='icons/icon512.png')}}"
      type="image/png"
    />
    <link rel="manifest" href="/manifest.json" />
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function () {
          navigator.serviceWorker.register('/sw.js').then(
            function (registration) {
              console.log(
                'ServiceWorkerãŒæ­£å¸¸ã«ç™»éŒ²ã•ã‚Œã¾ã—ãŸ: ',
                registration.scope
              );
            },
            function (err) {
              console.log('ServiceWorkerã®ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ: ', err);
            }
          );
        });
      }
    </script>
    <title>TEGNEN Pay | æ”¯æ‰•çµæœ</title>
  </head>
  <body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <div class="header">
      <img class="icon" src="/static/icons/favicon.svg" />| æ”¯æ‰•çµæœ
    </div>

    <!-- çµæœè¡¨ç¤º -->
    <div class="container result-container fade-in">
      <div class="d-flex justify-content-center">
        <div class="balance-display">
          <p class="balance-description">ãŠæ”¯æ‰•ã„é‡‘é¡</p>
          <p class="balance-text">{{ input_amount | tojson }} å††</p>
          <h1 class="success-message">æ”¯æ‰•ã„å®Œäº†ï¼</h1>
        </div>
      </div>

      <!-- æˆ»ã‚‹ãƒœã‚¿ãƒ³ -->
      <a href="{{ url_for('index') }}">
        <button class="btn btn-primary back-button">æˆ»ã‚‹</button>
      </a>
    </div>

    <!-- æ±ºæ¸ˆéŸ³ã®å†ç”Ÿ -->
    <audio
      id="payment-sound"
      src="../static/payment-success-sound.mp3"
      preload="auto"
    ></audio>

    <!-- çµµæ–‡å­—ã‚’é™ã‚‰ã›ã‚‹ã‚³ãƒ³ãƒ†ãƒŠ -->
    <div id="emoji-container"></div>

    <script>
      // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«æ±ºæ¸ˆéŸ³ã‚’å†ç”Ÿ
      window.onload = function () {
        document.getElementById('payment-sound').play();

        // çµµæ–‡å­—ã®ãƒªã‚¹ãƒˆ
        const emojis = ['ğŸ±', 'â¤ï¸', 'ğŸ¶'];

        // çµµæ–‡å­—ã‚³ãƒ³ãƒ†ãƒŠ
        const emojiContainer = document.getElementById('emoji-container');
        const numberOfEmojis = 100; // è¡¨ç¤ºã™ã‚‹çµµæ–‡å­—ã®æ•°

        // çµµæ–‡å­—ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ç”Ÿæˆã™ã‚‹é–¢æ•°
        for (let i = 0; i < numberOfEmojis; i++) {
          const emoji = document.createElement('span');
          emoji.classList.add('emoji');
          emoji.innerText = emojis[Math.floor(Math.random() * emojis.length)]; // ãƒ©ãƒ³ãƒ€ãƒ ã«çµµæ–‡å­—ã‚’é¸æŠ
          emoji.style.left = `${Math.random() * 100}vw`; // å·¦ä½ç½®ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«
          emoji.style.animationDuration = `${Math.random() * 5 + 5}s`; // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«
          emoji.style.fontSize = `${Math.random() * 1.5 + 1.5}rem`; // çµµæ–‡å­—ã®ã‚µã‚¤ã‚ºã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«
          emojiContainer.appendChild(emoji);
        }
      };
    </script>
  </body>
</html>
